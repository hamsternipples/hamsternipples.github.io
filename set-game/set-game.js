!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t,n){"use strict";var i=function(e){const t=typeof e;return null!=e&&("object"==t||"function"==t)};function r(e){throw new Error(e)}function s(e){e&&console.log("entering the debugger. reason:\n    "+e)}n.d(t,"f",function(){return r}),n.d(t,"a",function(){return s}),n.d(t,"m",function(){return o}),n.d(t,"n",function(){return l}),n.d(t,"p",function(){return c}),n.d(t,"o",function(){return a}),n.d(t,"q",function(){return u}),n.d(t,"k",function(){return h}),n.d(t,"l",function(){return f}),n.d(t,"j",function(){return p}),n.d(t,"b",function(){return d}),n.d(t,"e",function(){return b}),n.d(t,"c",function(){return v}),n.d(t,"d",function(){return y}),n.d(t,"h",function(){return g}),n.d(t,"g",function(){return m}),n.d(t,"i",function(){return _});const o=()=>Math.random().toString(32).substr(2),l=e=>Math.floor(Math.random()*e),c=e=>{const t=null==e?0:e.length;return t?e[l(t)]:void 0};function a(e,t=null){for(var n=-1,i=e.length,r=0;++n<i;){for(;e[n+r]===t;)r++;r>0&&(e.splice(n,r),r=0)}return e}function u(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function h(e,t,n){for(let i of t)n(e,i);return e}function f(e,t,n,i){for(let r of t)for(let t of n)i(e,r,t);return e}function p(e){try{return"string"==typeof e?JSON.parse(e):e}catch(e){}return{}}const d=(e,t,n=!0,i=!0)=>({get:e,set:t,enumerable:n,configurable:i}),b=(e,t=!1,n=!0,i=!0)=>({value:e,writable:t,enumerable:n,configurable:i}),v=(e,t,n)=>Object.defineProperty(e,t,n),y=(e,t)=>Object.defineProperties(e,t);function g(...e){return Object.assign({},...e)}function m(...e){return Object.assign(...e)}function _(e,...t){if(!t.length)return e;var n,r,s=t.shift();if(i(e)&&i(s))for(n in s)i(r=s[n])?(e[n]||(e[n]={}),_(e[n],r)):Object.assign(e,{[n]:r});return _(e,...t)}window.empty_array=function(e,t=0){var n=Array(e);for(;e-- >0;)n[e]=t;return n}},function(e,t,n){"use strict";n.d(t,"j",function(){return i}),n.d(t,"e",function(){return r}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"a",function(){return a}),n.d(t,"i",function(){return u}),n.d(t,"c",function(){return h}),n.d(t,"h",function(){return f}),n.d(t,"f",function(){return p}),n.d(t,"g",function(){return d});const i=window,r=i.document,s=r.body,o=i.getComputedStyle,l=i.customElements,c=r.location,a=~c.host.indexOf("localhost"),u=(c.pathname,c.protocol,c.hostname,c.port&&c.port,e=>r.createTextNode(e)),h=e=>r.createComment(e),f=e=>e&&e.nodeType,p=e=>"string"==typeof e?r.getElementById(e):e;function d(e,t){var n=e.currentStyle;return n?n[t]:o?o(e,null).getPropertyValue(t):e.style[t]}},function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return s}),n.d(t,"h",function(){return c}),n.d(t,"e",function(){return a}),n.d(t,"g",function(){return u}),n.d(t,"f",function(){return f}),n.d(t,"b",function(){return p}),n.d(t,"d",function(){return d});var i=n(0);function r(e){"function"==typeof e&&"string"==typeof e._obv||Object(i.f)("expected an observable")}function s(e,t){e(t());var n=e(t),i=t(e);return()=>{n(),i()}}function o(e,t,n){for(var r,s=0,o=0;o<e.length;o++)"function"==typeof(r=e[o])?r(n,t):s++;s>11&&setTimeout(i.o,1,e)}function l(e,t){var n=e.indexOf(t);~n&&(e[n]=null)}function c(e){if("function"==typeof e&&"value"===e._obv)return e;var t=e,n=[];return r.gc=()=>(Object(i.o)(n),n),Object(i.c)(r,"listeners",{get:r.gc}),r.set=e=>o(n,t,t=void 0===e?t:e),r.once=(e,t)=>{var n=r((t,i)=>{e(t,i),n()},t);return n},r._obv="value",r;function r(e,i){return void 0===e?t:"function"!=typeof e?(t===e||o(n,t,t=e),e):(n.push(e),void 0===t||!1===i||e(t),()=>{l(n,e)})}}function a(e,t){if(e&&"object"===e._obv)return e;var n={},r={},s=[],o={_obv:Object(i.e)("object"),get:Object(i.e)((e,t)=>{for(var i,r=n,s=Array.isArray(e)?e:"string"==typeof e&&~e.indexOf(".")?e.split("."):[e];i=s.unshift();)void 0===(r=n[i])&&(r=n[i]={});return r}),set:Object(i.e)(e=>{for(let t of s)r[t]&&e[t]&&r[t](e[t])})};for(let n of Array.isArray(t)?t:Object.keys(e)){let t=e[n];void 0!==t&&("value"===t._obv?(r[n]=t,s.push(n)):t._obv?o[n]=Object(i.e)(t):s.push(n))}for(let t of s)o[t]=Object(i.b)(()=>(r[t]||(r[t]=c(e[t])))(),e=>r[t](e));return Object(i.d)(n,o),n}function u(e,t,n){return r(e),i._obv="value",i;function i(i,r){return void 0===i?t(e()):"function"!=typeof i?e((n||t)(i)):e((e,n)=>{i(t(e,n))},r)}}var h=e=>"string"==typeof e&&~e.indexOf("px")?e:e+"px",f=e=>u(e,h);function p(e,t,n=!1){var s,c,a=!0,u=e.length,h=new Array(u),f=[],p=[];for(let n=0;n<u;n++)"function"==typeof(c=e[n])?(r(c),p.push(c(e=>{var i=h[n];h[n]=e,i!==e&&!1===a&&d(t.apply(null,h))},a))):h[n]=c;return s=t.apply(null,h),d._obv="value",d.gc=()=>(Object(i.o)(f),f),Object(i.c)(d,"listeners",{get:d.gc}),a=!1,d;function d(e,t){return void 0===e?s:"function"!=typeof e?(s===e||o(f,s,s=e),e):(f.push(e),void 0===s||!1===t||e(s),()=>{for(c of(l(f,e),p))c()})}}function d(e,t=null){return"function"==typeof e&&(!t&&e._obv||e._obv===t)}},function(e,t,n){"use strict";n.d(t,"c",function(){return u}),n.d(t,"a",function(){return v}),n.d(t,"b",function(){return y});var i=n(2);const r=(e,t,n,i=!1)=>(e.on||e.addEventListener).call(e,t,n,i),s=(e,t,n,i=!1)=>(e.off||e.removeListener||e.removeEventListener).call(e,t,n,i),o=(e,t,n)=>(e.dispatchEvent(new Event(t)),n),l=e=>e&&e.preventDefault();function c(e,t,n,i,o){let l=t=>{i("function"==typeof n?n():n?e[n]:t)};return r(e,t,l),o&&n&&l(),()=>s(e,t,l)}function a(e,t="value",n="keyup",i,o){return i="function"==typeof i?i:e=>13===e.which&&!e.shiftKey,c._obv="event",c;function c(c){return void 0===c?c:"function"!=typeof c?void 0:("function"==typeof o||(o=n=>!!i(n)&&(c(e[t],n),l(n),!0)),r(e,n,o),()=>{s(e,n,o)})}}function u(e,t){return Object(i.c)(e),"function"!=typeof t&&error("update_fn should be a function which updates the obv value, eg. (v) => !v"),n=>e(t(e(),n))}function h(e,t="value",n="input"){return i._obv="attribute",i;function i(i,r){return void 0===i?e[t]:"function"!=typeof i?o(e,n,e[t]=i):c(e,n,t,i,r)}}function f(e,t="value",n="change"){const i=(n=e.selectedIndex)=>~n?e.options[n][t]:null,r=r=>{for(var s=e.options,l=0;l<s.length;l++)if(s[l][t]==r)return o(e,n,i(e.selectedIndex=l))};return s._obv="select",s;function s(s,o){return void 0===s?e.options[e.selectedIndex][t]:"function"!=typeof s?r(s):c(e,n,i,s,o)}}function p(e,t,n){var i=!1;const o=()=>i||val.call(e,i=!0),l=()=>i&&val.call(e,i=!1);return c._obv="toggle",c;function c(c){return void 0===c?i:"function"!=typeof c?void 0:(r(e,t,o),r(e,n||t,l),()=>{s(e,t,o),s(e,n||t,l)})}}function d(e){return p(e,"mouseover","mouseout")}function b(e){return p(e,"focus","blur")}function v(e,t,n,i){r(e,t,n,i),this.push(()=>{s(e,t,n,i)})}function y(e,t){var n,r=this;for(n in t)((n,s)=>{switch(n){case"input":r.push(h(e,t[n+".attr"],t[n+".on"])(s));break;case"hover":r.push(d(e)(s));break;case"focus":r.push(b(e)(s));break;case"select_label":n=f(e,"label"),r.push(Object(i.d)(s)?Object(i.a)(n,s):n(s));break;case"select":case"select_value":n=f(e),r.push(Object(i.d)(s)?Object(i.a)(n,s):n(s));break;case"boink":r.push(c(e,"click",!1,t=>{Object(i.d)(s)?s(!s()):s.call(e,t)}),c(e,"touchstart",!1,t=>{l(t),Object(i.d)(s)?s(!s()):s.call(e,t)}));break;case"press":r.push(c(e,"mouseup",!1,()=>{s(!1)}),c(e,"mousedown",!1,()=>{s(!0)}),c(e,"touchend",!1,e=>{l(e),s(!1)}),c(e,"touchstart",!1,e=>{l(e),s(!0)}));break;default:~n.indexOf(".")||("function"!=typeof s&&error("observer must be a function"),r.push(a(e,t[n+".attr"],t[n+".event"]||n,t[n+".valid"])(s)))}})(n,t[n])}},function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return d});var i=n(2),r=n(3),s=n(0),o=n(1),l={s:"style",c:"className",class:"className",for:"htmlFor"},c={className:"class",htmlFor:"for"},a=[];function u(e){var t=[];function n(...n){var i;function r(r){var s,l,c,u;const f=t=>{var r,s=t.split(/([\.#]?[a-zA-Z0-9_:-]+)/);for(r of(/^\.|#/.test(s[1])&&(i=e("div")),s))"string"==typeof r&&(c=r.length)&&(i?"."!==(u=r[0])&&"#"!==u||(l=r.substring(1,c))&&("."===u?i.classList.add(l):i.id=l):i=e(r,n))};if(!i&&"number"==typeof r&&r<a.length&&(i=f(a[r])),null!=r)if("string"==typeof r)i?i.aC(s=Object(o.i)(r)):f(r);else if("number"==typeof r||"boolean"==typeof r||r instanceof Date||r instanceof RegExp)i.aC(s=Object(o.i)(r.toString()));else if(Array.isArray(r))i.aC(r,t);else if(Object(o.h)(r)||r instanceof o.j.Text)i.aC(s=r);else if("object"==typeof r)for(u in r)h(i,u,r[u],t);else"function"==typeof r&&(s=v(i,r,t));return s}for(;n.length;)r(n.shift());return i}return n.cleanupFuncs=t,n.cleanup=()=>{for(var e=0;e<t.length;e++)t[e]()},n}function h(e,t,n,i=[]){var o,a,u,f=l[t]||t;if("function"==typeof n)setTimeout(()=>{"boink"===f?r.b.call(i,e,{boink:n}):"press"===f?r.b.call(i,e,{press:n}):"hover"===f?r.b.call(i,e,{hover:n}):"focused"===f?r.b.call(i,e,{focus:n}):"selected"===f?r.b.call(i,e,{select:n}):"input"===f?r.b.call(i,e,{input:n}):"on"===f.substr(0,2)?r.a.call(i,e,f.substr(2),n,!1):"before"===f.substr(0,6)?r.a.call(i,e,f.substr(6),n,!0):(i.push(n(t=>{h(e,f,t,i)},1)),"INPUT"===(o=e.nodeName)&&r.b.call(i,e,{input:n}),"SELECT"===o&&r.b.call(i,e,"label"===f?{select_label:n}:{select:n}))},0);else if("assign"===f||"extend"===f)Object.assign(e,n);else if("data"===f)if("object"==typeof n)for(o in n)e.dataset[o]=n[o];else Object(s.f)("data property should be passed as an object");else if("multiple"===f)e.multiple=!!n;else if("contenteditable"===f)e.contentEditable=!!n;else if("autofocus"===f)setTimeout(()=>e.focus(),10);else if("autoselect"===f)setTimeout(()=>{e.focus();var t=[n[0]||0,n[1]||-1];e.setSelectionRange.apply(e,t)},10);else if("selected"===f)e.defaultSelected=!!n;else if("checked"===f)e.defaultChecked=!!n;else if("value"===f)e.defaultValue=e.value=n;else if("for"===f)e.htmlFor=n;else if("class"===f){if(n)if(a=e.classList,Array.isArray(n))for(o of n)o&&a.add(o);else a.add(n)}else if((u="on"===f)||"before"===f){if("object"==typeof n)for(o in n)"function"==typeof(a=n[o])&&r.a.call(i,e,o,a,!u)}else"html"===f?e.innerHTML=n:"observe"===f?setTimeout(r.b.bind(i,e,n),0):"style"===f?"string"==typeof n?e.style.cssText=n:function(e,t,n=[]){if("object"==typeof t)for(var i in t)((t,i)=>{"function"==typeof i?(e.style[t]=i(),n.push(i(n=>{e.style[t]=n}))):e.style[t]=i})(i,t[i]);else e.setAttribute("style",t)}(e,n,i):~f.indexOf("-")?e.setAttribute(f,n):void 0!==n&&(~(u=f.indexOf(":"))?"xlink"===f.substr(0,u)?e.setAttributeNS("http://www.w3.org/1999/xlink",f.substr(++u),n):Object(s.f)("unknown namespace for attribute: "+f):e.namespaceURI?e.setAttribute(c[f]||f,n):e[f]=n)}var f={};Object(s.c)(f,"define",Object(s.e)((e,t,n)=>{o.d.define(e,t),f[e]="number"==typeof n?n:Array.isArray(n)?n.length:t.length||0}));var p=function e(t){var n=u((e,t)=>{var n;return~e.indexOf("-")?void 0!==(n=f[e])?new(o.d.get(e))(...t.splice(0,n)):new(o.d.get(e)):o.e.createElement(e)});t||p.cleanupFuncs.push(()=>n.cleanup());n.context=e;return n}(1);var d=function e(t){var n=u(e=>o.e.createElementNS("http://www.w3.org/2000/svg",e));t||d.cleanupFuncs.push(()=>n.cleanup());n.context=e;return n}(1);const b=(e,t,n)=>Object(o.h)(t)?t:Array.isArray(t)?function(e,t,n){var i,r=o.e.createDocumentFragment(),s=t=>t===(e.activeElement||o.e.activeElement);for(i of t)r.aC(b(e,i,n));if("array"===t.observable){function l(n){var i,r,l,c;switch(n.type){case"unshift":for(i=n.values.length-1;i>=0;i--)e.insertBefore(Object(o.h)(l=n.values[i])?l:Object(o.i)(l),t[0]);break;case"push":for(i=0;i<n.values.length;i++)e.insertBefore(Object(o.h)(l=n.values[i])?l:Object(o.i)(l),t[t.length+n.values.length-i-1]);break;case"pop":e.removeChild(t[t.length-1]);break;case"shift":e.removeChild(t[0]);break;case"splice":if(r=n.idx,n.remove)for(i=0;i<n.remove;i++)e.removeChild(t[r+i]);if(n.add)for(i=0;i<n.add.length;i++)e.insertBefore(Object(o.h)(l=n.add[i])?l:Object(o.i)(l),t[r]);break;case"sort":for(i=0,c=n.orig;i<t.length;i++)l=t[i],i!==(r=c.indexOf(l))&&((s(l)||1===l.focused)&&(i=1),e.removeChild(l),e.insertBefore(l,t[i-1]),1===i&&(l.focus(),l.focused=0));break;case"replace":l=n.val,c=n.old,(s(l)||1===l.focused)&&(i=1),s(c)&&(c.focused=1),e.replaceChild(l,c),1===i&&(l.focus(),l.focused=0);break;case"insert":e.insertBefore(n.val,t[n.idx]);break;case"reverse":for(i=0,r=+t.length/2;i<r;i++)t.emit("change",{type:"swap",from:i,to:t.length-i-1});break;case"move":l=t[n.from],s(l)&&(i=1),e.insertBefore(l,t[n.to]),1===i&&l.focus();break;case"swap":n.j=p("div.swap",l={s:{display:"none"}}),n.k=p("div.swap",l),c=t[n.from],l=t[n.to],s(l)?i=1:s(c)&&(i=2),e.replaceChild(n.j,c),e.replaceChild(n.k,l),e.replaceChild(l,n.j),e.replaceChild(c,n.k),1===i?l.focus():2===i&&c.focus();break;case"remove":e.removeChild(t[n.idx]);break;case"set":e.replaceChild(n.val,t[n.idx]);break;case"empty":for(i=0;i<t.length;i++)e.removeChild(t[i]);break;default:console.log("unknown event",n)}}t.on("change",l),n.push(()=>{t.off("change",l)})}return r}(e,t,n):"function"==typeof t?Object(i.d)(t)?v(e,t,n):(()=>{for(;"function"==typeof t;)t=t.call(e,e);return b(e,t,n)})():null==t?Object(o.c)("null"):Object(o.i)(t),v=(e,t,n=[])=>{var r,l,c,a;return"function"==typeof t?(Object(i.d)(t)?(e.aC(r=Object(o.c)("obv value")),e.aC(a=Object(o.c)("obv bottom")),n.push(t(t=>{if(c=b(e,t,n),Array.isArray(r))for(t of r)e.rC(t);else r&&(r.parentNode===e?e.rC(r):Object(s.f)("obv unable to replace child node because parentNode has changed"));e.iB(c,a),r=Array.isArray(t)?t:c}),()=>{e.rC(a)})):null!=(l=b(e,t,n))&&(r=e.aC(l,n)),r=b(e,r,n)):r=b(e,t,n),r};Node.prototype.iB=function(e,t,n){return this.insertBefore(v(this,e,n),t)},Node.prototype.aC=function(e,t){return this.appendChild(v(this,e,t))},Node.prototype.rC=function(e){return this.removeChild(e)},Node.prototype.rm=function(){return this.parentNode.removeChild(this)},Node.prototype.apply=function(e,t){for(let n in e)h(this,n,e[n],t);return this}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(0),r=n(4);const s=()=>o({h:r.a,s:r.b},"global");function o(e=s(),t=Object(i.m)()){var n=[],r=[],o=Object.create(e,{_ns:Object(i.e)(t),_ctx:Object(i.e)(r),_h:Object(i.e)(null,!0),_s:Object(i.e)(null,!0),h:Object(i.b)(()=>o._h||(o._h=e.h.context())),s:Object(i.b)(()=>o._s||(o._s=e.s.context())),cleanupFuncs:Object(i.e)(n),parent:Object(i.e)(e),cleanup:Object(i.e)(e=>{for(;e=r.pop();)e.cleanup();for(;e=n.pop();)e();o._h&&o._h.cleanup(),o._s&&o._s.cleanup()})});return"global"===t&&void 0!==e._ctx&&Object(i.a)("when creating the global context,  `_ctx` property should not be defined. (it's automatically created to store named subcontexts)"),"global"!==t&&e._ctx[t]&&Object(i.a)("parent context already has a subcontext with this name registered"),"global"!==t&&(e._ctx.push(o),e._ctx[t]=o),o}},function(e,t,n){"use strict";var i,r=n(0),s=n(2),o=n(3),l=n(1),c=l.j.requestAnimationFrame||l.j.mozRequestAnimationFrame||l.j.webkitRequestAnimationFrame||(i=0,function(e){var t,n=(new Date).getTime();return t=Math.max(0,16-(n-i)),i=n+t,setTimeout(function(){e(n+t)},t)}),a=n(4);function u(e,t){var n=0,i=e.length;if("number"==typeof i)for(;n<i;n++)t(e[n]);else t(e)}var h=function(e,t){function n(){var e,t,n=[];this.add=function(e){n.push(e)},this.call=function(){for(e=0,t=n.length;e<t;e++)n[e].call()},this.remove=function(i){var r=[];for(e=0,t=n.length;e<t;e++)n[e]!==i&&r.push(n[e]);n=r},this.length=function(){return n.length}}u(e,function(e){!function(e,t){if(e.resizedAttached)e.resizedAttached.add(t);else{var i,r,s;e.resizedAttached=new n,e.resizedAttached.add(t);var o,u,h,f,p="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;z-index:-1;visibility:hidden",d="position:absolute;left:0;top:0;transition:0s";e.resizeSensor=Object(a.a)(".resize-sensor",{s:p},i=Object(a.a)(".resize-sensor-expand",{s:p},r=Object(a.a)("div",{s:d})),s=Object(a.a)(".resize-sensor-shrink",{s:p},Object(a.a)("div",{s:d+";width:200%;height:200%"}))),e.appendChild(e.resizeSensor),"static"==Object(l.g)(e,"position")&&(e.style.position="relative");var b=e.offsetWidth,v=e.offsetHeight,y=function(){r.style.width="100000px",r.style.height="100000px",i.scrollLeft=1e5,i.scrollTop=1e5,s.scrollLeft=1e5,s.scrollTop=1e5};y();var g=function(){u=0,o&&(b=h,v=f,e.resizedAttached&&e.resizedAttached.call())},m=function(){h=e.offsetWidth,f=e.offsetHeight,(o=h!=b||f!=v)&&!u&&(u=c(g)),y()};i.addEventListener("scroll",m),s.addEventListener("scroll",m)}}(e,t)}),this.detach=function(t){h.detach(e,t)}};h.detach=function(e,t){u(e,function(e){e.resizedAttached&&"function"==typeof t&&(e.resizedAttached.remove(t),e.resizedAttached.length())||e.resizeSensor&&(e.contains(e.resizeSensor)&&e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached)})};var f=h,p=n(5);function d(e,t,n,i,c,u,h){var d,b,v,y,g,m,_,j,O,x,w=Object(r.i)({},Object(r.j)(n),c);return l.a&&((d=l.b.style).background="#fff",d.fontFamily="Helvetica Neue,Helvetica,Arial,sans-serif",d.padding=d.margin=0),v="string"==typeof e?(d=Object(l.f)(e))&&d.id||e:Object(r.m)(),d={s:{position:"absolute",left:0,top:0,bottom:0,right:0,overflow:"hidden"}},"object"!=typeof t||Object(l.h)(t)||(d=Object(r.i)(d,t)),e=Object(l.h)(e)?e:Object(a.a)("div#"+v,d),Object(l.h)(t)||(t=l.b),t.aC(e),l.j.G=y=e._G=Object(p.a)(void 0,v),y.E=g={frame:e,body:l.e.body,win:l.j},d=screen.orientation,y.orientation=Object(s.h)(d.type.split("-").concat(d.angle)),d.onchange=function(e){y.orientation((d=e.target).type.split("-").concat(d.angle))},y.width=Object(s.h)(m=e.clientWidth||w.width||300),y.height=Object(s.h)(_=e.clientHeight||w.height||300),y.resize=Object(s.h)({width:m,height:_}),(j=Math.round(l.j.devicePixelRatio||1))>4&&(j=4),y.dpr=Object(s.h)(j),e._id=v,x=e.cleanup,e.cleanup=()=>{t=e.parentNode,b.disconnect(),b=null,t&&t.removeChild(e),"function"==typeof x&&x()},y.cleanupFuncs.push(e.cleanup),O={C:w,G:y,E:g,v:s.h,t:s.g,c:s.b,m:o.c,h:y.h,s:y.s},function(t){function n(){for(var n,i,r=0;n=e.firstChild;)e.removeChild(n);for(;n=l.b.childNodes[r];)"#"===n.nodeName[0]?l.b.removeChild(n):r++;"function"==typeof t&&(n=t(O))&&(e.aC(n),"function"==typeof h&&h(e,n)),i=new f(e,()=>{y.width(m=e.clientWidth),y.height(_=e.clientHeight),y.resize({width:m,height:_})}),y.cleanupFuncs.push(()=>i.detach())}l.e.body?setTimeout(n,1):l.j.addEventListener("DOMContentLoaded",n,!1)}(u),O}t.a=function(e,t={},n={}){d(e.name,null,t,0,{},t=>e(t))}},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var i=n(6);var r=function(e,t){for(var n=e.length,i=t.length,r=Array(n+i),s=0;s<n;s++)r[s]=e[s];for(var o=0;o<i;o++)r[s+o]=t[o];return r};function s(e,t){var n=this._drip||(this._drip={}),i=n.memoize||(n.memoize={}),r=n.delimeter&&Array.isArray(e)?e.join(n.delimeter):e,s=i[r],l=null;if(s){for(var c=0,a=s.length;c<a;c++)if(s[c][0]===t)return s[c][1];l=o(r,t),s.push([t,l])}else l=o(r,t),i[r]=[[t,l]];return l}function o(e,t){return function(){var n=Array.prototype.slice.call(arguments),i=[e].concat(n);t.emit.apply(t,i)}}var l={many:function(e,t,n){var i=this;return this.on(e,function r(){0==--t&&setTimeout(function(){i.off(e,r)},0),n.apply(null,arguments)}),this},once:function(e,t){return this.many(e,1,t),this},hasListener:function(e,t){return!t&&"function"==typeof e||(!(!t||"function"!=typeof e||t!=e)||0!==e.length&&(!!(t&&e.indexOf(t)>-1)||!t))},bindEvent:function(e,t){var n=s.call(this,e,t);return this.on(e,n),this},unbindEvent:function(e,t){var n=s.call(this,e,t);return this.off(e,n),this},proxyEvent:function(e,t,n){2===arguments.length&&(n=t,t=null);var i=this._drip||{},o=i.delimeter?t?Array.isArray(t)?r(t,[e]):r(t.split(i.delimeter),[e]):e:t?t+":"+e:e;return n.addListener(e,s.call(this,o,this)),this},unproxyEvent:function(e,t,n){2===arguments.length&&(n=t,t=null);var i=this._drip||{},o=i.delimeter?t?Array.isArray(t)?r(t,[e]):r(t.split(i.delimeter),[e]):e:t?t+":"+e:e;return n.removeListener(e,s.call(this,o,this)),this}},c=e=>{var t=class extends e{on(e,t){var n=this._events||(this._events={});return n[e]?"function"==typeof n[e]?n[e]=[n[e],t]:n[e].push(t):n[e]=t,this}off(e,t){var n=arguments.length;if(!this._events||0===n)return this._events={},this;if(1===n)return this._events[e]=null,this;var i=this._events[e];if(!i)return this;if("function"==typeof i&&i==t)this._events[e]=null;else{for(var r=0;r<i.length;r++)i[r]==t&&i.splice(r,1);0===i.length?this._events[e]=null:1===i.length&&(this._events[e]=i[0])}return this}emit(e,t,n){this._events||(this._events={});var i=this._events[e];if(!i&&"error"===e)throw t||new Error('Emitter "error" event without argument.');if(!i)return!1;var r=arguments.length;if("function"==typeof i)if(1==r)i.call(this);else if(2==r)i.call(this,t);else if(3==r)i.call(this,t,n);else{for(var s=r,o=Array(s-1),l=1;l<s;l++)o[l-1]=arguments[l];i.apply(this,o)}else for(l=0;l<i.length;l++)if(1===r)i[l].call(this);else if(2===r)i[l].call(this,t);else if(3===r)i[l].call(this,t,n);else{if(!o){o=Array(r-1);for(var c=1;c<r;c++)o[c-1]=arguments[c]}i[l].apply(this,o)}return!0}hasListener(e,t){if(!this._events)return!1;var n=this._events[e];return!!n&&l.hasListener(n,t)}listeners(e){if(!this._events)return[];var t=this._events[e];return t?"function"==typeof t?[t]:t:[]}};return t.prototype.bindEvent=l.bindEvent,t.prototype.unbindEvent=l.unbindEvent,t.prototype.proxyEvent=l.proxyEvent,t.prototype.unproxyEvent=l.unproxyEvent,t.prototype.many=l.many,t.prototype.once=l.once,t},a=n(2),u=n(0),h=n(5);const f=Array.prototype.slice,p=e=>"[object Arguments]"==Object.prototype.toString.call(e),d=e=>"number"==typeof e&&e!=e,b=(e,t)=>0===e&&0===t?((e,t)=>1/e==1/t)(e,t):e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():d(e)?d(t):"object"!=typeof e&&"object"!=typeof t?e==t:function(e,t){if(null==e||null==t||e.prototype!==t.prototype)return!1;if(p(e))return!!p(t)&&(e=f.call(e),t=f.call(t),b(e,t));try{var n,i,r=Object.keys(e),s=Object.keys(t)}catch(e){return!1}if(r.length!=s.length)return!1;for(r.sort(),s.sort(),i=r.length-1;i>=0;i--)if(r[i]!=s[i])return!1;for(i=r.length-1;i>=0;i--)if(n=r[i],!b(e[n],t[n]))return!1;return!0}(e,t));var v=b;class y extends(c(Array)){static get[Symbol.species](){return Array}constructor(e){super(),this.observable="array",this._obv_len&&this._obv_len(this.length),Object(u.c)(this,"obv_len",Object(u.b)(()=>this._obv_len||(this._obv_len=Object(a.h)(this.length)))),Array.isArray(e)&&e.length&&super.push(...e)}pop(){if(this.length)return this.emit("change",{type:"pop"}),this._obv_len&&this._obv_len(this.length-1),super.pop()}push(...e){return e.length?(this.emit("change",{type:"push",values:e}),this._obv_len&&this._obv_len(this.length+e.length),super.push(...e)):this.length}reverse(){return this.length<=1?this:(this.emit("change",{type:"reverse"}),super.reverse())}shift(){if(this.length)return this.emit("change",{type:"shift"}),this._obv_len&&this._obv_len(this.length-1),super.shift()}swap(e,t){this.emit("change",{type:"swap",from:e,to:t});var n=super.splice(e,1);super.splice(t,0,n[0])}sort(e){if(this.length<=1)return this;for(var t,n,i=0,r=this,s=r.length;i<s;i++){for(n=i,t=i+1;t<s;t++)e(r[t],r[n])<=0&&(n=t);n!==i&&(this.emit("change",{type:"swap",from:n,to:i}),Object(u.q)(r,i,n))}return this}empty(){return this.length>0&&(this.emit("change",{type:"empty"}),this._obv_len&&this._obv_len(0),this.length=0),this}replace(e,t){return this.emit("change",{type:"replace",val:t,idx:e,old:this[e]}),super.splice(e,1,t),this}move(e,t){this.emit("change",{type:"move",from:e,to:t});var n=super.splice(e,1);return super.splice(t,0,n[0]),this}insert(e,t){return this.emit("change",{type:"insert",val:t,idx:e}),this._obv_len&&this._obv_len(this.length+1),super.splice(e,0,t),this}remove(e){if("number"!=typeof e){var t=this.indexOf(e);if(!~t)return this;e=t}return this.emit("change",{type:"remove",idx:e}),this._obv_len&&this._obv_len(this.length-1),super.splice(e,1),this}splice(e,t,...n){return void 0===e||void 0!==t&&(+e>=this.length||+t<=0)?[]:(this.emit("change",{type:"splice",idx:e,remove:t,add:n}),this._obv_len&&this._obv_len(this.length+n.length-t),super.splice(e,t,...n))}unshift(...e){return e.length?(this.emit("change",{type:"unshift",values:e}),this._obv_len&&this._obv_len(this.length+e.length),super.unshift(...e)):this.length}set(e,t){if(!v(this[e>>>=0],t))return this.emit("change",{type:"set",idx:e,val:t}),this[e]=t,this}}class g extends y{constructor(e,t,n,i={plain:!1}){super(),this.fn="function"==typeof t?n=t:n;let r,s=this.fl=n.length;for(r in this.G=e,this.d=t instanceof y?t:t=new y(Array.isArray(t)?t:[]),e.cleanupFuncs.push(()=>{this.cleanup()}),s>=1&&(this._d=[]),s>=2&&(this._ctx=[]),s>=3&&(this._idx=[]),i)this[r]=i[r];this.data(t)}data(e){const t=this._onchange=e=>{var t,n,i,r,s=this._d.length,o=this.fl,l=e.type,c=+this.fixed;switch(l){case"swap":i=e.from,r=e.to,o>=1&&Object(u.q)(this._d,r,i),o>=2&&Object(u.q)(this._ctx,r,i),o>=3&&(this._idx[i](r),this._idx[r](i),Object(u.q)(this._idx,r,i)),Object(u.q)(this,r,i);break;case"move":i=e.from,r=e.to,o>=1&&(t=this._d.splice(i,1),this._d.splice(r,0,t[0])),o>=2&&(t=this._ctx.splice(i,1),this._ctx.splice(r,0,t[0])),o>=3&&(t=this._idx.splice(i,1),this._idx.splice(r,0,t[0]),this._idx[i](r),this._idx[r](i)),t=super.splice(i,1),super.splice(r,0,t[0]);break;case"set":i=e.idx,t=e.val,super[i]=t,o>=1&&this._d[i].set(t);break;case"unshift":for(t of(i=0,t=new Array(e.values.length),o>=1&&this._d.splice(0,0,...t),o>=2&&this._ctx.splice(0,0,...t),o>=3&&this._idx.splice(0,0,...t),e.values))super.unshift(this.fn_call(t,i++));if(o>=3)for(;i<s;i++)this._idx[i](i);c&&(r=t.length,super.splice(-r,r));break;case"push":for(t of(i=s+e.values.length,n=[],o>=1&&(this._d.length=i),o>=2&&(this._ctx.length=i),o>=3&&(this._idx.length=i),e.values))n.push(this.fn_call(t,s++));c?super.splice(s,c?n.length:0,...n):super.push(...n);break;case"splice":for(t of(i=e.idx,r=e.remove,t=new Array(e.add.length),o>=1&&this._d.splice(i,r,...t),o>=2&&(n=this._ctx.splice(i,r,...t)),o>=3&&this._idx.splice(i,r,...t),n))t.cleanup();for(t of(n=[],s=i-r,e.add))n.push(this.fn_call(t,s++));if(super.splice(i,r,...n),o>=3)for(;i<s;i++)this._idx[i](i);c&&(i=n.length-r)>0&&super.splice(-i,i);break;case"remove":if(i=e.idx,o>=1&&this._d.splice(i,1),o>=2&&this._ctx.splice(i,1)[0].cleanup(),o>=3&&this._idx.splice(i,1),super.splice(i,1),o>=3)for(s--;i<s;i++)this._idx[i](i);break;case"replace":case"insert":if(i=e.idx,r="replace"===l?1:0,o>=1&&this._d.splice(i,r,null),o>=2&&(t=this._ctx.splice(i,r,null)),o>=3&&this._idx.splice(i,r,null),super.splice(i,r,this.fn_call(e.val,i)),r>0)o>=2&&t[0]&&t[0].cleanup();else{if(o>=3)for(;i<=s;i++)this._idx[i](i);s===c&&super.pop()}break;case"sort":n=[],i=c-s,c&&i>0&&(t=super.splice(-i,i));let a=e=>{n.push(e)};for(t of(this.d.on("change",a),this.d.sort(e.compare),this.d.off("change",a),n))super.emit("change",t);c&&i>0&&(t=super.splice(-i,0,...t));break;case"empty":if(super.empty(),o>=1&&(this._d.length=0),o>=2){for(t of this._ctx)t.cleanup();this._ctx.length=0}o>=3&&(this._idx.length=0);break;case"reverse":for(i=0;i<s;i++)this._idx[i](s-i-1);s=0;case"shift":if(s)for(i=1;i<s;i++)this._idx[i](i-1);case"pop":this._d[l](),(t=this._ctx[l]())&&s&&t.cleanup(),this._idx[l](),super[l]()}};if(e instanceof y){var n=0,i=e.length,r=[];if(this.length>0&&this.empty(),i>0){for(;n<i;n++)r.push(this.fn_call(e[n],n));super.push(...r)}this._obv_len&&this._obv_len(i),this.d.off("change",t),this.d=e,Object(u.c)(this,"obv_len",Object(u.b)(()=>this.d.obv_len)),e.on("change",t)}return this.d}fn_call(e,t){var n,i,r=this.fl,s=this.fn;return 0===r?s():(n=this._d[t]||(this._d[t]=this.plain?e:"object"==typeof e?Object(a.e)(e):Object(a.h)(e)),1===r?s(n):(i=this._ctx[t]||(this._ctx[t]=Object(h.a)(this.G)),2===r?s(n,i):s(n,this._idx[t]||(this._idx[t]=Object(a.h)(t)),i)))}cleanup(){this._onchange({type:"empty"}),this.d.off("change",this._onchange)}}(()=>{let e=g.prototype;for(let t of["swap","move","set","unshift","push","splice","remove","replace","insert","sort","empty","pop","reverse","shift","setPath"])e[t]=function(){return this.d[t].apply(this.d,arguments)}})();function m(e,t){if(t%1!=0)throw new RangeError;for(var n=1;t--;)n*=e--;return n}function _(e,t){return t>e?0:m(e,t)/m(t,t)}function j(e,t){Object.keys(t).forEach(function(n){Object.defineProperty(e,n,{value:t[n],configurable:"next"==n})})}function O(e,t){Object.defineProperty(e,t,{writable:!0})}function x(e){var t,n=[];for(this.init();t=this.next();)n.push(e?e(t):t);return this.init(),n}var w={toArray:x,map:x,forEach:function(e){var t;for(this.init();t=this.next();)e(t);this.init()},filter:function(e){var t,n=[];for(this.init();t=this.next();)e(t)&&n.push(t);return this.init(),n},find:function(e){var t,n;for(this.init();t=this.next();)if(e(t)){n=t;break}return this.init(),n},lazyMap:function(e){return this._lazyMap=e,this},lazyFilter:function(e){if(Object.defineProperty(this,"next",{writable:!0}),"function"!=typeof e)this.next=this._next;else{"function"!=typeof this._next&&(this._next=this.next);var t=this._next.bind(this);this.next=function(){for(var n;n=t();)if(e(n))return n;return n}.bind(this)}return Object.defineProperty(this,"next",{writable:!1}),this}};function k(e,t,n){if(t||(t=e.length),t<1)throw new RangeError;if(t>e.length)throw new RangeError;var i=(1<<t)-1,r=_(e.length,t),s=1<<e.length,o=()=>r,l=Object.create(e.slice(),{length:{get:o}});return O(l,"index"),j(l,{valueOf:o,init:function(){this.index=i},next:function(){if(!(this.index>=s)){for(var e=0,t=this.index,n=[];t;t>>>=1,e++)1&t&&(n[n.length]=this[e]);return this.index=function(e){var t=e&-e,n=e+t;return n|((n&-n)/t>>1)-1}(this.index),"function"==typeof l._lazyMap?l._lazyMap(n):n}}}),j(l,w),l.init(),"function"==typeof n?l.map(n):l}function A(e={}){const t=e.min_solutions||1,n=e.max_solutions||12,i=e.num_symbols||9,r=e.sets||{},s=Object.keys(r),o=s.length,l=Object(u.k)({},s,(e,t)=>e[t]=r[t].length),c=s.reduce((e,t)=>e+l[t],0),a=k(s,o-1).map(e=>s.indexOf(e[0])>s.indexOf(e[1])?e:[e[1],e[0]]);(!e.sets||o<3)&&Object(u.f)("you must define `sets` with at least 3 properties");const h=e=>e._str?e._str:e._str=s.map(t=>e[t]).join(" "),f=e=>e._str?e._str:e._str=e.map(h).sort().join(":"),p=e=>{const t=h(e);return e=>h(e)===t};function d(e,t=null){null===t&&(t=Object(u.k)({_str:""},s,(e,t)=>e._str+=e[t]=Object(u.p)(r[t])));let n=h(t);if(null==e[n]){e[n]=e.push(t),e.n2combos||(e.n2combos={});for(let i of a){let[r,s]=i,l=t[r]+":"+t[s];if((e.n2combos[l]=(e.n2combos[l]||0)+1)>o)return console.warn(`${n}: skipped (n2 combo: ${l})`),b(e,t),null}return t}return null}function b(e,t){e[h(t)]=null;let n=e.findIndex(p(t));"number"==typeof n&&e.splice(n-1,1);for(let n of a){let[i,r]=n,s=t[i]+":"+t[r];e.n2combos[s]--}}function v(e){if(e.prop_counts)return e.prop_counts;let t=Object(u.k)({},s,(e,t)=>e[t]={}),n=Object(u.l)(t,s,e,(e,t,n)=>{e[t][n[t]]=(e[t][n[t]]||0)+1});return e.prop_counts=n}function y(e){return k(e,o).filter(e=>(function(e){let t=v(e);for(let e of s)for(let n in t[e]){let i=t[e][n];if(1!==i&&i!==o)return!1}return!0})(e))}let g=function(){let e=[],r=[];for(let s=0;s<100&&!(e.length>=t&&e.length<=n&&r.length===i);s++)if(d(r),console.log("symbols:",r.length),r.length>o){let t=3;for(e=r.solutions=y(r),console.log("solutions:",e.length);e.length>n;){let n={},i=[];console.warn(`too many solutions(${e.length})... going to trim ${t} of the most used symbols`);for(let t=0;t<e.length;t++)for(let r=0;r<o;r++){let s=e[t][r],l=h(s);(n[l]=(n[l]||0)+1)>o&&(console.warn(`${l}: deleted (cannot be a part of more than ${o} solutions)`),i.push(s))}if(i.length<t){console.log("to_delete:",i.length,"->",t);let e=[];for(let t in n)e.push({k:t,n:n[t]});e.sort((e,t)=>e.n>t.n),e.splice(0,t).forEach(e=>{let t=r.findIndex(t=>h(t)==e.k),n=r[t];console.log("most_used:",n,t),t>=0&&n&&(console.warn(`${e.k}: deleted (appears ${e.n} times in solutions)`),i.push(n))})}else console.log("to_delete:",i);for(let e of i)b(r,e);e=r.solutions=y(r);break}}return e.symbols=r,e}(),m=g.symbols;return{PROPS:s,NUM_PROPS:o,NUM_PROP_THINGS:l,NUM_THINGS:c,NUM_SYMBOLS:i,solutions:g,symbols:m,get_set_errors:function(e){let t=[],n=v(e);for(let e of s)for(let i in n[e]){let r=n[e][i],s=o;if(1!==r&&r!==s){let e=s-r;t.push(`${r} are ${i} and ${e} are not`)}}return t},set_eq:e=>{const t=f(e);return e=>f(e)===t},syb_eq:p,set_str:f,syb_str:h}}const C=8,E=1/16777216,M=15,S=18,T=11;function z(e,t){const n=65535&(e>>>=0);return((e-n)*(t>>>=0)>>>0)+n*t>>>0}class L{constructor(e=Date.now()){this.state=new Uint32Array(4),this.init(e),this.random=this.getFloat.bind(this)}getUint32(){return this.nextState(),this.state[3]+this.state[2]>>>0}getFloat(){return(this.getUint32()>>>8)*E}init(e){if(!Number.isInteger(e))throw new TypeError("seed must be an integer");this.state[0]=e,this.state[1]=0,this.state[2]=0,this.state[3]=0;for(let e=1;e<C;e++)this.state[3&e]^=e+z(1812433253,this.state[e-1&3]^this.state[e-1&3]>>>30>>>0)>>>0;this.periodCertification();for(let e=0;e<C;e++)this.nextState()}periodCertification(){0===this.state[0]&&0===this.state[1]&&0===this.state[2]&&0===this.state[3]&&(this.state[0]=88,this.state[1]=83,this.state[2]=65,this.state[3]=68)}nextState(){let e=this.state[0];e^=e<<M,e^=e>>>S,e^=this.state[3]<<T,this.state[0]=this.state[1],this.state[1]=this.state[2],this.state[2]=this.state[3],this.state[3]=e}}n(7);console.log("we're in development mode");const N=Object(a.h)();(e=>{Math.unpredictable=Math.random;let t=window.onhashchange=t=>{console.log("hash change:",t);let n=location.hash;n&&e(1*n.substr(1))};e(e=>{(e*=1)||(e=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER)),console.info("seed:",e);const t=new L(e);history.pushState(null,null,"#"+e),Math.random=()=>t.getFloat()}),t()})(N);const $=[{n:1,rows:1,row:[1]},{n:2,rows:2,row:[1,1]},{n:3,rows:2,row:[2,1]},{n:4,rows:2,row:[2,2]},{n:5,rows:2,row:[3,2]},{n:6,rows:2,row:[3,3]},{n:7,rows:3,row:[3,2,2]},{n:8,rows:3,row:[3,2,3]},{n:9,rows:3,row:[3,3,3]}].map(e=>{e.n;let t=[];for(let n=0,i=e.rows;n<i;n++)for(let r=0,s=e.row[n];r<s;r++){let e=1/(i+1),o=1/(s+1),l=e*(n+1),c=o*(r+1),a=Math.min(e,o);t.push({scale:a,x:c,y:l})}return t});function P(e,t=100){let n=2*Math.PI/e,i=Math.PI/e,r=.45*t,s=0;return 3==e&&(s=t/10),empty_array(e+1).map((e,t)=>{let o=t*n+i;return 0+r*Math.sin(o)+","+(s+r*Math.cos(o))}).join(" ")}Object(i.a)(function(e){const{G:t,E:n,h:i,v:r,t:s,c:o,m:l}=e;var c,h,f,p,d,b,v,m,_,j=n.frame,O=new Map;const x=new y,w=r(40),k=r(1),C=r(20),E=r(!1),M=s(E,e=>e?300:40),S=Object(a.f)(w),T={solutions_needed:3,num_symbols:12},z=function(e={}){O.clear(),e.sets;let t=A(e);return b=t.PROPS,v=b.length,m=t.solutions.length,_=t.NUM_SYMBOLS,t}({min_solutions:T.soutions_needed,max_solutions:50,num_symbols:T.num_symbols,sets:{count:[1,2,3,4],colour:["pink","lime","purple","aqua"],shape:["circle","triangle","square","hexagon"]}}),L=s(x.obv_len,(e,t)=>`${e} / ${T.solutions_needed}`);function F(e){if(!e)return;let n=x.findIndex(z.set_eq(e));if(~n){let e=h.solutions[n];e.classList.add("highlight"),h.open_briefly(2),setTimeout(()=>{e.classList.remove("highlight")},2e3)}else{n=x.push(e)-1;let i=T.solutions_needed-x.length;if(0===i)U("YOU DID IT!");else{const n=r(200),s=r(10),l=r(100);c.toast(`only ${i} to go..`);let a=q(n,s,s,l,l)(e,0,t);const u=r("50%"),h=r("50%"),f=o([v,l,s],(e,t,n)=>`${e*t+e*n}px`),p=o([l,s],(e,t)=>`${e+t}px`);a.apply({c:"whammy flying-solution",style:{opacity:0,top:u,left:h,width:f,height:p}}),j.aC(a),setTimeout(()=>{a.style.opacity=1,setTimeout(()=>{a.apply({style:{transform:"translate(250%, -100%)"}})},1e3)},200)}}}function q(e,t,n,i,r){return(l,c,u)=>{const{h:h}=u;return h(".solution",{style:{height:Object(a.f)(e)}},l.map((e,l)=>{const f=o([v,m,c,t,n,i,r],(e,t,n,i,r,s,o)=>{return{x:s*l+i+i*l,y:o*n+r/2+r*n}});let p=z.syb_str(e),d=I(u,e,{alt:p,width:i,height:r});return h(".symbol-small",{style:{color:e.colour,left:s(f,e=>`${e.x}px`),top:s(f,e=>`${e.y}px`),width:Object(a.f)(i),height:Object(a.f)(r)}},h(".symbol-inner",{style:{color:e.colour}},d))}))}}function I(e,t,n={}){const{s:i}=e,r=60,s={"stroke-width":2};let o="pink"===t.colour?{fill:"deeppink",stroke:"fuchsia"}:"purple"===t.colour?{fill:"purple",stroke:"pink"}:"aqua"===t.colour?{fill:"aqua",stroke:"aquamarine"}:"lime"===t.colour?{fill:"lime",stroke:"lawngreen"}:{fill:"black",stroke:"brown"},l="circle"===t.shape?i("circle",Object(u.h)({r:48,x:r,y:r},o,s)):"triangle"===t.shape?i("g.triangle",i("polygon",Object(u.h)({points:P(3,120)},o,s))):"square"===t.shape?i("polygon",Object(u.h)({points:P(4,120)},o,s)):"pentagon"===t.shape?i("polygon",Object(u.h)({points:P(5,120)},o,s)):"hexagon"===t.shape?i("polygon",Object(u.h)({points:P(6,120)},o,s)):i("line",Object(u.h)({x1:24,y1:r,x2:96,y2:r,"stroke-width":12}),o),c=+t.count,a=$[c-1];if(a||error("no config for count:"+c),t.count>1){let e=[];for(let t=0;t<c;t++){let n=a[t],i=l.cloneNode(1),r=1/Math.log(c+1)*.4;i.setAttribute("transform",`translate(${120*n.x} ${120*n.y}) scale(${r})`),e.push(i)}l=e}else{let e=a[0];l.setAttribute("transform",`translate(${120*e.x} ${120*e.y}) scale(${2*e.scale})`)}return i("svg",Object(u.h)({viewBox:"0 0 120 120"},n),l)}function R(e,t="selected"){return function(){var n=this.classList;if(O.has(e)?(O.delete(e),n.remove(t)):(O.set(e,this),n.add(t)),O.size===v){let e=Array.from(O.keys()),n=z.get_set_errors(e);if(n.length)for(let e of n)c.toast(e);else console.log("found set:",e,"->",e._str),F(e);setTimeout(e=>{for(let n of e)n.classList.remove(t)},500,Array.from(O.values())),O.clear()}}}const B={fast:"cubic-bezier(.33,.57,0,1)",impact:"cubic-bezier(.42,0,0,1)"},U=(e,t=2,n="fast",r="toasted")=>{let s=i(".whammy",{style:{animation:`${r} ${t}s ${B[n]||n} 1 normal forwards`}},e);return j.aC(s),t&&setTimeout(()=>{s.style.opacity=0,setTimeout(()=>j.rC(s),1e3)},1e3*t),s};(c=i(".toast-zone",{style:{top:S}})).toast=(e,t=3,n="fast",r="toasted")=>{let s=i(".toast",{boink:function(){this.style.display="none"}},e);return c.aC(s),t&&setTimeout(()=>{s.style.opacity=0,setTimeout(()=>c.rC(s),1e3)},1e3*t),s};return p=i(".title-bar",{style:{height:S}},i("h1","~SET~",{boink:l(k,e=>!e)})),f=(e=>{const n=(e=>[...Array(e+1).keys()].filter(t=>e%t==0))(_),r=o([t.width,C,M],(e,t,n)=>Math.max(e-t-t-n,200)),l=o([t.height,w,C],(e,t,n)=>Math.max(e-t-n-n,200)),c=o([C],e=>e),u=o([w,C],(e,t)=>e+t),h=o([r],e=>e>1e3?40:e>600?30:20),f=o([l],e=>e>1e3?40:e>600?30:20),p=o([_,r,l],(e,t,n)=>Math.round(Math.sqrt(t*n/e))),d=o([r,p],(e,t)=>n.map(n=>({f:n,d:Math.abs(1-t*n/e)})).sort((e,t)=>e.d-t.d)[0].f),b=o([d],e=>n.find(t=>e*t===_));console.log("grid -- ",d()+"x"+b(),"--",_);const v=o([d,r,h],(e,t,n)=>(console.log(e,t,n,t-n*(e-1)),Math.floor((t-n*(e-1))/e))),y=o([b,l,f],(e,t,n)=>Math.floor((t-n*(e-1))/e)),m=Object(a.f)(v),j=Object(a.f)(y);return i(".symbol-grid",{style:{width:Object(a.f)(r),height:Object(a.f)(l),left:Object(a.f)(c),top:Object(a.f)(u)}},new g(t,e,(e,t,n)=>{const{h:i}=n,r=o([d,b,t,h,f,v,y],(e,t,n,i,r,s,o)=>{let l=n%e,c=Math.floor(n/e);return{x:s*l+i*l,y:o*c+r*c}});let l=I(n,e,{alt:z.syb_str(e),width:v,height:y});return i(".symbol",{style:{color:e.colour,left:s(r,e=>`${e.x}px`),top:s(r,e=>`${e.y}px`),width:m,height:j},boink:R(e)},i(".symbol-inner",l))}))})(z.symbols),h=(e=>{let n=function(e={}){return e=Object(u.g)({autoclose:"autoclose",open:"open",closed:"closed",pinned:!1},e),{open_briefly:function(t,n){return!(e.pinned||!this.classList.contains(e.closed))&&(setTimeout(()=>{this.classList.contains(e.autoclose)&&this.close(),n&&n()},1e3*t),this.classList.add(e.autoclose),this.open())},toggle:function(){return this.classList.toggle(e.closed),this.classList.toggle(e.open)},open:function(){return this.classList.add(e.open),this.classList.remove(e.closed)},close:function(){return this.classList.remove(e.autoclose,e.open),this.classList.add(e.closed)},pin:function(){return e.pinned=!e.pinned}}}();const s=r(220),l=o([v,s],(e,t)=>Math.floor(t/(e+e+e+e))),c=o([v,s,l],(e,t,n)=>Math.floor((t-n*(e+1))/e)),h=o([c],e=>e),f=o([t.height,m,h],(e,t,n)=>Math.min(e-200,t*n*1.5)),p=o([f],e=>e+40),d=o([w,C],(e,t)=>e+t),b=o([f],e=>e>1e3?40:e>600?30:20),y=o([h,b],(e,t)=>e+t),_=(Object(a.f)(c),Object(a.f)(h),Object(a.f)(p)),j=Object(a.f)(d),O=(Object(a.f)(y),new g(t,e,q(y,l,b,c,h),{plain:!0}));let x=i(".side-panel.closed",{boink:n.toggle,assign:n,style:{height:_,top:j}},i(".side-panel-title",{style:{width:_}},i("span",L)),i(".content",i(".header",i("div",L),i("div",`(${m} possible)`)),i(".sets-found",O)));return x.solutions=O,x})(x),window.game=z,window.sets_found=x,window.toast_zone=c,window.title_bar=p,window.symbol_grid=f,window.side_panel=h,window.add_set=()=>F(z.solutions[x.length]),[c,p,f,h,i(".seeder",{style:{display:s(k,e=>(setTimeout(()=>{d.focus(),d.select()},10),e?"none":""))}},d=i("input",{type:"number",value:N,onfocus:function(){this.select()}}))]}),console.log("testing...")}]);